using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace PenTestLogParser
{
    class Data
    {
        public static List<Node> Networks = new List<Node>();
        public static string OutputFile;
        public static string Kismetfilepath;

        public static void BuildNodes(string[] store)
        {
            for (int x = 1; x < store.Length; ++x)
            {
                Node Wifi = new Node();
                string[] NodeStoreSplit = store[x].Split('\n');
                for (int y = 0; y < NodeStoreSplit.Length; ++y)
                {
                    if (String.IsNullOrWhiteSpace(NodeStoreSplit[y]) == false && NodeStoreSplit[y].Contains("Manuf      :"))
                    {
                        Wifi.Manufact = NodeStoreSplit[y];
                    }
                    else if (String.IsNullOrWhiteSpace(NodeStoreSplit[y]) == false && NodeStoreSplit[y].Contains("BSSID      :"))
                    {
                        Wifi.MAC = NodeStoreSplit[y];
                    }
                    else if (String.IsNullOrWhiteSpace(NodeStoreSplit[y]) == false && NodeStoreSplit[y].Contains("Channel    :"))
                    {
                        Wifi.Channel = NodeStoreSplit[y];
                    }
                    else if (String.IsNullOrWhiteSpace(NodeStoreSplit[y]) == false && NodeStoreSplit[y].Contains("SSID       :"))
                    {
                        Wifi.SSID = NodeStoreSplit[y];
                    }
                    else if (String.IsNullOrWhiteSpace(NodeStoreSplit[y]) == false && NodeStoreSplit[y].Contains("Encryption :"))
                    {
                        Wifi.Encryption += NodeStoreSplit[y];
                    }
                }
                Networks.Add(Wifi);
            }
        }
    }
}
